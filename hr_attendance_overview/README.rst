======================
HR Attendance Overview
======================

.. 
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! source digest: sha256:56907b4dc0640ced58028f1a9b05c9270e4569231a78c5c24c31eca6b1c6f6dc
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fhr--attendance-lightgray.png?logo=github
    :target: https://github.com/OCA/hr-attendance/tree/15.0/hr_attendance_overview
    :alt: OCA/hr-attendance
.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
    :target: https://translation.odoo-community.org/projects/hr-attendance-15-0/hr-attendance-15-0-hr_attendance_overview
    :alt: Translate me on Weblate
.. |badge5| image:: https://img.shields.io/badge/runboat-Try%20me-875A7B.png
    :target: https://runboat.odoo-community.org/builds?repo=OCA/hr-attendance&target_branch=15.0
    :alt: Try me on Runboat

|badge1| |badge2| |badge3| |badge4| |badge5|

This module adds a dashboard to manage attendances and contractual hours.

General overview
================

Main purpose of this dashboard is to allow employee and manager to have an overview of their attendances according to their contract.

Two dashboards will be needed to have two axes of analysis and will cover the attendance and the contractual time of the employee.

Detailed requirements
=====================

Dashboard Attendances report
----------------------------

Attendance report will allow to calculate the undertime or overtime of the employee at a day level. For this purpose we need to calculate the contractual hours the employee is requested to do for each day. Sum of the contractual hours, leaves and attendances will give the time variation according to the contract.

Contractual hours should be calculated taking in account the following requirements:

- Calculation per day should take in account the contract valid at the date (for the future if there is no end date for the contract we use the current one)
- Working time per day will use the work plan (resource calendar) on the employee contract with the data per day and if not available the average per day (only the working days)
- Bank holiday should be excluded and they can come from the the calendar or the OCA module Public holiday (if installed)
- Number will be show in negative (in order that the final sum is negative if there is insufficient attendances according to the contract time

Attendance section have the following requirement

- Working time and time off should be clearly separated (two columns)
- Time off are taken only if fully validated
- By default we filter the current year until today and the user data.

Global requirement
------------------
Data coming from the attendances should always represent the situation we get if we go to the attendances app (data should be in real time). We accept that the data linked to the contract are updated every 24 hours.

At the initialisation the system should be able to generate the past data.

Security
--------

Employee should not see data from other employees.
One exception for a manager that can see all the data from employees he is the manager of.

Pitfalls
========

- Limit cases about hours on weekend and hours worked at night inbetween 2 days.

**Table of contents**

.. contents::
   :local:

Usage
=====

To generate employee hours lines at first install:

  # Go to *HR Report Dashboard* > *Update HR Employee hours*

Then select the employees and the period you want to generate the lines for.
You also select only certain hour types:

- Contractual
- Timesheet
- Attendance


Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/OCA/hr-attendance/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us to smash it by providing a detailed and welcomed
`feedback <https://github.com/OCA/hr-attendance/issues/new?body=module:%20hr_attendance_overview%0Aversion:%2015.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
~~~~~~~

* Camptocamp SA

Contributors
~~~~~~~~~~~~

* Florent Xicluna <florent.xicluna@camptocamp.com>
* St√©phane Mangin <stephane.mangin@camptocamp.com>

Maintainers
~~~~~~~~~~~

This module is maintained by the OCA.

.. image:: https://odoo-community.org/logo.png
   :alt: Odoo Community Association
   :target: https://odoo-community.org

OCA, or the Odoo Community Association, is a nonprofit organization whose
mission is to support the collaborative development of Odoo features and
promote its widespread use.

This module is part of the `OCA/hr-attendance <https://github.com/OCA/hr-attendance/tree/15.0/hr_attendance_overview>`_ project on GitHub.

You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
